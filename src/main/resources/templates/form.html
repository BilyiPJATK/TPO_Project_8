<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Code Formatter</title>
</head>
<body>
<div th:fragment="form">
    <form th:action="@{/codeFormatter/format}" method="post" class="mb-4">
        <div class="mb-3">
            <label for="code" class="form-label">Paste your Java code:</label>
            <textarea id="code" name="code" rows="10" class="form-control" required></textarea>
        </div>

        <div class="mb-3">
            <label for="textId" class="form-label">Text ID (for saving):</label>
            <input type="text" id="textId" name="textId" class="form-control" required>
        </div>

        <div class="mb-3">
            <label for="expirationSeconds" class="form-label">Keep saved for (seconds):</label>
            <input type="number" id="expirationSeconds" name="expirationSeconds"
                   class="form-control" min="10" max="7776000" required>
        </div>

        <button type="submit" class="btn btn-primary">Format</button>
    </form>

    <div th:if="${message}" class="alert alert-success" th:text="${message}"></div>
    <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

    <div th:if="${original != null and formatted != null}" class="row">
        <div class="col-md-6">
            <h5>Original Code:</h5>
            <pre class="bg-light p-3 border rounded" th:text="${original}"></pre>
        </div>
        <div class="col-md-6">
            <h5>Formatted Code:</h5>
            <pre class="bg-light p-3 border rounded" th:text="${formatted}"></pre>
        </div>
    </div>
</div>
</body>
</html>
